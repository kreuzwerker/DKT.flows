<div id="flow-logs">
  <div class="header" fxLayout="row" fxLayoutAlign="start center">
    <h4 fxFlex>Logs</h4>

    <md-spinner *ngIf="state.select('loadingFlowLogs') | async"></md-spinner>
    <md-icon *ngIf="!(state.select('loadingFlowLogs') | async)" (click)="reloadLogs()">refresh</md-icon>

    <md-icon class="close" [routerLink]="'/flows/' + flowId">close</md-icon>
  </div>

  <div class="runs" *ngIf="runs && runs.length">
    <div *ngFor="let run of runs; let last = last" class="run" [class.last]="last" [class.show-details]="showDetails == run" [ngSwitch]="run.status">
      <div class="run-header" (click)="toggleRunDetails(run)" fxLayout="row" fxLayoutAlign="start center">
        <md-icon *ngSwitchCase="'running'" class="status running" md-list-icon>autorenew</md-icon>
        <md-icon *ngSwitchCase="'success'" class="status success" md-list-icon>check</md-icon>
        <md-icon *ngSwitchCase="'error'" class="status error" md-list-icon>error</md-icon>

        <h6 class="date" fxFlex md-line>{{run.startedAt * 1000 | date:'dd.MM.yy HH:mm'}}</h6>

        <md-icon class="toggle show-more">expand_more</md-icon>
        <md-icon class="toggle show-less">expand_less</md-icon>
      </div>
      <div class="run-details" [class.slide-in]="show" [class.slide-out]="!show">
        <p>DETAILS</p>
        <p>DETAILS</p>
        <p>DETAILS</p>
        <p>DETAILS</p>
        <p>DETAILS</p>
        <p>DETAILS</p>
      </div>
    </div>
  </div>
  <p *ngIf="runs && !runs.length" class="no-runs" fxLayout="row" fxLayoutAlign="center center">
    There are no logs yet from this flow.
  </p>
</div>