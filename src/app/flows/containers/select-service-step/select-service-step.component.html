<div class="layout" layout="row" layout-align="left center">
  <div class="left" layout="column" layout-padding>
    <dkt-flow-header [flow]="state.flow$ | async"></dkt-flow-header>
    <!-- debug:
      <pre>{{(state.flow$ | async) | json}}
    </pre>-->

    <!-- Flow steps -->
    <div class="steps">
      <div class="step" *ngFor="let step of (state.flow$ | async)?.steps">
        <dkt-flow-step-item [step]="step"></dkt-flow-step-item>
      </div>
    </div>
  </div>

  <div class="center" layout="column" flex>
    <div class="col-header"></div>

    <dkt-services></dkt-services>
  </div>

  <div class="right" *ngIf="selectedServiceStep" layout="column">
    <dkt-flow-step-config-nav [type]="'Trigger'" [current]="'select'" class="col-header"></dkt-flow-step-config-nav>
    <div layout-padding>
      <div class="selected-service-step">
        <dkt-service-step-item [serviceStep]="selectedServiceStep"></dkt-service-step-item>
      </div>
      <dkt-flow-step-nav-buttons></dkt-flow-step-nav-buttons>
    </div>
  </div>
</div>
