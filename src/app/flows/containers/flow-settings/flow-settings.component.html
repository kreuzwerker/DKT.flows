<form class="flow-settings" #flowSettingsForm="ngForm" (ngSubmit)="saveSettings(flowSettingsForm)">
  <h4 class="padding border-bottom">Flow settings</h4>

  <md-tab-group md-dynamic-height>
    <md-tab>
      <ng-template md-tab-label>General</ng-template>

      <div fxLayout="column" class="padding border-bottom">
        <md-input-container>
          <input mdInput placeholder="Name" type="text" name="name" tabindex="1" [ngModel]="flow.name" #name="ngModel" required>
          <md-hint *ngIf="name.dirty && name.errors?.required">Name is required</md-hint>
        </md-input-container>

        <md-input-container>
          <textarea mdInput placeholder="Description" type="text" name="description" tabindex="2" [ngModel]="flow.description" #description="ngModel" required></textarea>
          <md-hint *ngIf="description.dirty && description.errors?.required">Description is required</md-hint>
        </md-input-container>
      </div>
    </md-tab>
    <md-tab>
      <ng-template md-tab-label>Triggering</ng-template>

      <md-radio-group [(ngModel)]="triggerType" name="triggerType">
        <md-list class="padding border-bottom">
          <md-list-item [class.selected]="isManual()" (click)="triggerType = triggerTypes.MANUAL">
            <md-icon md-list-icon>flash_on</md-icon>
            <h6 md-line>Manual</h6>
            <p md-line>Lorem ipsum ipsum ipsum ipsum.</p>
            <md-radio-button [value]="triggerTypes.MANUAL" [checked]="isManual()"></md-radio-button>
          </md-list-item>

          <md-list-item [class.selected]="isAutomatic()" (click)="triggerType = triggerTypes.AUTOMATIC">
            <md-icon md-list-icon>flash_auto</md-icon>
            <h6 md-line>Automatic</h6>
            <p md-line>Lorem ipsum ipsum ipsum ipsum.</p>
            <md-radio-button [value]="triggerTypes.AUTOMATIC" [checked]="isAutomatic()"></md-radio-button>
          </md-list-item>

          <md-list-item [class.selected]="isScheduled()" (click)="triggerType = triggerTypes.SCHEDULED">
            <md-icon md-list-icon>schedule</md-icon>
            <h6 md-line>Scheduled</h6>
            <p md-line>Lorem ipsum ipsum ipsum ipsum.</p>
            <md-radio-button [value]="triggerTypes.SCHEDULED" [checked]="isScheduled()"></md-radio-button>
          </md-list-item>
        </md-list>
      </md-radio-group>

    </md-tab>
  </md-tab-group>

  <div class="buttons padding" fxLayout="row" fxLayoutAlign="space-between center">
    <button md-raised-button type="button" [routerLink]="'/flows/' + flow.id" tabIndex="4">Cancel</button>
    <button md-raised-button type="submit" [disabled]="flowSettingsForm.invalid" color="accent" tabIndex="3">Save</button>
  </div>

</form>
